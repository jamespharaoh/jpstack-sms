<record
	name="backgroundProcess"
	type="major">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			name="parentType"
			type="objectType"/>

		<code-field/>

		<!-- details -->

		<name-field/>
		<description-field/>
		<deleted-field/>

		<!-- settings -->

		<duration-field
			name="frequency"/>

		<yes-no-field
			name="enabled"
			default="yes"/>

		<yes-no-field
			name="debug"
			default="no"/>

		<!-- state -->

		<integer-field
			name="numRuns"
			default="0"/>

		<integer-field
			name="numConsecutiveFailures"
			default="0"/>

		<yes-no-field
			name="lastSuccessTime"
			nullable="yes"/>

		<yes-no-field
			name="lastFailureTime"
			nullable="yes"/>

		<yes-no-field
			name="lastRunSuccess"
			nullable="yes"/>

		<timestamp-field
			name="lastRunTime"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="nextRunTime"
			column-type="postgresql"
			nullable="yes"/>

		<duration-field
			name="lastRunDuration"
			nullable="yes"/>

		<yes-no-field
			name="running"
			default="no"/>

		<string-field
			name="runningToken"
			nullable="yes"/>

		<reference-field
			name="runningDaemonDeployment"
			type="daemonDeployment"
			nullable="yes"/>

		<timestamp-field
			name="runningStartTime"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="runningWatchdogTime"
			column-type="postgresql"
			nullable="yes"/>

		<string-field
			name="lastTaskLog"
			nullable="yes"/>

	</fields>

</record>